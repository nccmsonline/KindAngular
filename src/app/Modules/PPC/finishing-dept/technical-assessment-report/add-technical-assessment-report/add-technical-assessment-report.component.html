<div class="preloader" style="display: none;">
    <div class="lds-ripple">
        <div class="lds-pos"></div>
        <div class="lds-pos"></div>
    </div>
  </div>
  <div id="main-wrapper" data-theme="light" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
    data-sidebar-position="fixed" data-header-position="fixed" data-boxed-layout="full">
  <app-header></app-header>
  <app-sidebar></app-sidebar>
  
  <div class="page-wrapper" >
    <div class="container-fluid" style="background:#dcdcdc;">
        <form >
          <div class="example-loading-shade" *ngIf="isLoadingResults ">
              <mat-spinner [diameter]="40" *ngIf="isLoadingResults"></mat-spinner>
          </div>
          <div class="row">
              <div class="col-md-12">
                  <div class="card" style="border-top: 2px solid #0e43af;box-shadow:0 1px 3px rgba(0,0,0,.3);">
                      <div class="card-body border-bottom py-2 d-flex justify-content-start">
                          <div class="d-md-flex align-items-center justify-content-between mr-4 col-md-12">
                              <div class="d-flex col-md-12">
                                  <div class="col-md-6 d-flex">
                                  <a class="btn btn-sm rounded btn-warning mr-3" [routerLink]="['/technical-assessment-report']"
                                      title="Back "><i class="mdi mdi-keyboard-backspace"></i></a>
                                      
                                  <h4 class="modal-title " id="exampleModalLabel">
                                    <span > {{'technicalassessmentreport' | translate}}</span>
                                   </h4>
                                </div>
                                   <div class=" col-md-6 text-right">
                                    <button type="button"  class="btn btn-sm btn-info rounded " (click)="addnewdraw()">{{'addnewdrawing' | translate}}</button>
                                   </div>
                                 
                              </div>
                          </div>
                      </div>
  
                      <!-- Header -->
                      <div class="form-row w-100 " >
                        <div class="form-group col-md-12 d-flex">
                          
  
                          <label class="col-md-2 text-right error-control-label required ">{{'partyname' | translate}}</label>
                          <div class=" col-md-6">
                            <!-- <ngx-select class="ngx-custom-select-dropdown ngx-custom-select-dropdown-text-wrap"
                              name="empid" [(ngModel)]="newData.empid" (select)="employeeChange($event)"
                              [ngModelOptions]="{standalone: true}" [items]="employeeDDArray" [allowClear]="true"
                              optionValueField="id" optionTextField="empname" (remove)="removeEmployee($event)">
                            </ngx-select> -->
                            <input (keyup)="searchTermCustomer($event.target.value)" name="PARTYNAME"
                            [(ngModel)]='newData.PARTYNAME'
                            [ngModelOptions]="{standalone: true}"
                            [value]="newData.PARTYNAME || ''" autocomplete="off"
                            class="w-100 form-control error-border form-control-sm "
                            maxlength="250">
                        <button class="close-icon" style="position: absolute; top: 8px;"
                            (click)="reset1(newData)"></button>
                        <div *ngIf="arrayItemCustomer != ''" class="search-list-header">
                            <div class="example-loading-shade" *ngIf="isLoading">
                                <mat-spinner [diameter]="20" *ngIf="isLoading">
                                </mat-spinner>
                            </div>
                            <table id="selectedValue"
                                class="table table-condensed table-striped table-hover">
                                <tr class="ui-menu-item" role="menuitem">
                                    <th>{{'name' | translate}}</th>
                                    <th>{{'address' | translate}}</th>
                                </tr>
                                <tr class="ui-menu-item" role="menuitem" *ngFor="let result of photosBuffer"
                                    (click)="onChangeOfItemCodeCustomer(result, newData)">
                                    <td>{{ result.NAME }}</td>
                                    <td>{{ result.ADDRESS1 }} </td>
                                </tr>
                                   </table>
                                </div>
                                </div>

                          <label class="col-md-1 text-right error-control-label required">{{'srno' | translate}}</label>
                          <div class="col-md-1">
                            <input autocomplete="off" class="form-control w-100 readonly-disable" [(ngModel)]="newData.SRNO" [ngModelOptions]="{standalone: true}" readonly>
                          </div>

                          <div class="col-md-2 d-flex">
                          <label class=" text-right pr-1">{{'date' | translate}}</label>
                          <div class="">
                            <mat-form-field class="col-md-11 form-control py-1 mat-form-field-date-picker">
                                <input matInput [matDatepicker]="picker6" [(ngModel)]="newData.DATED" [ngModelOptions]="{standalone: true}" readonly>
                                <mat-datepicker-toggle matSuffix [for]="picker6"></mat-datepicker-toggle>
                                <mat-datepicker #picker6 ></mat-datepicker>
                              </mat-form-field>
                          </div>
                          </div>
                        </div>
                      </div>
  
                   
  
                      <div class="d-flex form-group mb-2">
                        <!-- 1 Header-->
                        <div class="col-md-4 tab-content m-t-10 " id="pills-tabContent">
                        
                            
                                <div class="border position-relative" style="min-height:260px;">
                                    <h6 class="p-2 mb-0" style="background-color:#666;color:#fff;">Description</h6>
                                    <div class="form-inline">

                                        <div class="form-group w-100 pt-2 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'drawingno' | translate}}</label></div>
                                        <div class="form-group w-100 pt-2 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'framesize' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'componentsize' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'sheetsqcm' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'wastage%' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'material' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'laminationwtinkg' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'noofoperation' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'toolingtype' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'toolsreqd' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'approxtollingcostrs' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'stack' | translate}}</label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;">{{'stackheightmm' | translate}}</label></div>
                                            <div class="form-group w-100 pt-1 mb-1 border">
                                                <label class="col-md-12 text-left" style="height: 24px;">{{'endplatedrgno' | translate}}</label></div>
                                                <div class="form-group w-100 pt-1 mb-1 border">
                                                    <label class="col-md-12 text-left" style="height: 24px;">{{'endplatewastage%' | translate}}</label></div>
                                </div>
                        </div>
                            
                        </div>
  
                          <!-- 2 Header-->
                          <div class="col-md-4 ">
                           
                                <div class="border position-relative" style="min-height:260px;">
                                    <h6 class="p-2 mb-0 text-center" style="background-color:#666;color:#fff;">Stator</h6>
                                    <div class="form-inline">

                                        <div class="form-group w-100 pt-2 mb-1 border">
                                            <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.DRAWINGNOST"
                                            [items]="drawingnoArray" optionValueField="ID"
                                            optionTextField="DRAWINGNO"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select>
                                        </div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.FRAMENOST"
                                            [items]="framesizeArray" optionValueField="FRAMEID"
                                            optionTextField="FRAMEDESC"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select>
                                        </div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.COMPONENTSIZEST" [ngModelOptions]="{standalone: true}" ></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.SHEETST" [ngModelOptions]="{standalone: true}" 
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"></div>
                                       <div class="form-group w-100 pt-1 mb-1 border">
                                            <!-- <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.WASTAGEST" [ngModelOptions]="{standalone: true}" ></div> -->
                                            <button type="button" class="btn btn-add waves-effect waves-light ml-1"
                                            style="width: 50% !important" (click)="openNoofoperationPopup(newData)"><i class="fas fa-eye"></i></button>
                                       <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.MATERIALST" [ngModelOptions]="{standalone: true}" ></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.LAMINATIONST" [ngModelOptions]="{standalone: true}" 
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <!-- <button type="button" class="btn btn-add waves-effect waves-light ml-1"
                                            style="width: 50% !important" (click)="openNoofoperationPopup(newData)"><i class="fas fa-eye"></i></button> -->
                                            <!-- <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.OPERATIONST"
                                            [items]="toolTypeArray" optionValueField="DIETYPEID"
                                            optionTextField="DIETYPEDESC"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select> -->

                                         <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.OPERATIONST" [ngModelOptions]="{standalone: true}" maxlength="200"></div>
                                        </div>

                                        <div class="form-group w-100 pt-1 mb-1 border" >
                                            <!-- <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.TOOLTYPEST"
                                            [items]="toolTypeArray" optionValueField="DIETYPEID"
                                            optionTextField="DIETYPEDESC"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select> -->
                                        <ng-multiselect-dropdown placeholder="Select Tools Reqd." [data]="toolTypeArray"
                                        [settings]="dropdownSettings" [(ngModel)]="newData.TOOLTYPEST"
                                        [ngModelOptions]="{standalone: true}" class="ms-dd w-100">
                                    </ng-multiselect-dropdown>
                                    </div>

                                        <div class="form-group w-100 pt-1 mb-1 border" >
                                            <ng-multiselect-dropdown placeholder="Select Tools Reqd." [data]="toolTypeArray"
                                            [settings]="dropdownSettings" [(ngModel)]="newData.TOOLSREQDST"
                                            [ngModelOptions]="{standalone: true}" class="ms-dd w-100">
                                        </ng-multiselect-dropdown>
                                            <!-- <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.TOOLSREQDST"
                                            [items]="toolTypeArray" optionValueField="DIETYPEID"
                                            optionTextField="DIETYPEDESC"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select> -->
                                    </div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.APPROXCOSTST" [ngModelOptions]="{standalone: true}" ></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.STACKST"
                                            [items]="stackArray" optionValueField="ID"
                                            optionTextField="NAME"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select></div>

                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.HEIGHTST" [ngModelOptions]="{standalone: true}" 
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"></div>
                                            <div class="form-group w-100 pt-1 mb-1 border">
                                                <ngx-select class="ngx-custom-select-dropdown"
                                                [ngModelOptions]="{standalone: true}" name="costcentreid"
                                                [allowClear]="true" [(ngModel)]="newData.PLATEDRGNOST"
                                                [items]="drawingnoArray" optionValueField="ID"
                                                optionTextField="DRAWINGNO"
                                                placeholder="{{'pleaseselect' | translate}}">
                                            </ngx-select></div>
                                            <div class="form-group w-100 pt-1 mb-1 border">
                                                <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.PLATEWASTAGEST" [ngModelOptions]="{standalone: true}" 
                                                oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"></div>
                                </div>
                                </div>
                        
                            
                          </div>
  
                          <div class="col-md-4 ">
                          
                                <div class="border position-relative" style="min-height:260px;">
                                    <h6 class="p-2 mb-0 text-center" style="background-color:#666;color:#fff;">Rotor</h6>
                                    <div class="form-inline">

                                        <div class="form-group w-100 pt-2 mb-1 border">
                                            <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.DRAWINGNORT"
                                            [items]="drawingnoArray" optionValueField="ID"
                                            optionTextField="DRAWINGNO"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select>
                                        </div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <label class="col-md-12 text-left" style="height: 24px;"></label>
                                            </div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.COMPONENTSIZERT" [ngModelOptions]="{standalone: true}" ></div>
                                        <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.LAMINATIONRT" [ngModelOptions]="{standalone: true}" 
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');"></div>
                                            <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                            <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                            <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                            <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <ngx-select class="ngx-custom-select-dropdown"
                                            [ngModelOptions]="{standalone: true}" name="costcentreid"
                                            [allowClear]="true" [(ngModel)]="newData.STACKRT"
                                            [items]="stackArray" optionValueField="ID"
                                            optionTextField="NAME"
                                            placeholder="{{'pleaseselect' | translate}}">
                                        </ngx-select></div>
                                        <div class="form-group w-100 pt-1 mb-1 border">
                                            <input autocomplete="off" class="form-control w-100 " [(ngModel)]="newData.HEIGHTRT" [ngModelOptions]="{standalone: true}"
                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" ></div>
                                            <div class="form-group w-100 pt-1 mb-1 border">
                                                <ngx-select class="ngx-custom-select-dropdown"
                                                [ngModelOptions]="{standalone: true}" name="costcentreid"
                                                [allowClear]="true" [(ngModel)]="newData.PLATEDRGNORT"
                                                [items]="drawingnoArray" optionValueField="ID"
                                                optionTextField="DRAWINGNO"
                                                placeholder="{{'pleaseselect' | translate}}">
                                            </ngx-select></div>
                                            <div class="form-group w-100 pt-1 mb-1 border"><label class="col-md-12" style="height: 24px;"></label></div>
                                </div>
                                </div>
                        
                           
                          </div>
  
                          <!-- 3 Header-->
                          <!-- <div class="col-md-2 {{thirdHeaderDisable}}">
                            <div class="card-body purchase-order px-0 py-2 custom-card-order" [ngStyle]="{'background': thirdHeaderBackground}">
                              <div class="form-inline">
                                <div class="table-wrapper-scroll" style="height: 270px; overflow: auto; width: 100%;">
                                  <table class="table table-striped custom-table tr th">
                                    <thead>
                                      <tr style="background-color: #666666; color: #ffffff;">
                                        <th scope="col" style="width:50%;" class="text-right">{{'apprmarks' | translate}}</th>
                                        <th scope="col" style="width:50%;" class="text-right">{{'reviewmarks' | translate}}</th>
                                      </tr>
                                    </thead>
                                    <tbody class="font-sm">
                                        <tr *ngFor="let kra of KRAArray ; let i = index" style="height: 29px;">
                                          <td class="text-right">{{kra.mdmarksawarded}}</td>
                                          <td class="text-right">{{kra.md_marksupto}}</td>
                                        </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div> -->
                      </div>
  
                      <!-- Total -->
                      <div class="mb-2" >
                        <div class="form-group col-md-12 d-flex "style="background-color: #eee;">
                            <label class="col-md-2 text-right error-control-label required">{{'remarks' | translate}}</label>
                            <div class="col-md-10 pr-0">
                                <textarea name="itemid" [(ngModel)]="newData.REMARKS"
                                [ngModelOptions]="{standalone: true}" style="height: 40px;"
                                autocomplete="off"
                                class="w-100 form-control error-border form-control-sm"
                                maxlength="500">
                        </textarea>
                            </div>
    
                           
                          </div>
                      </div>
                     
                      
                   
                      
                      <div class="form-inline">
                        <div class="col-md-12">
                            <div class="card-body p-0 mb-1 position-relative">
                                
                                <div class="table-scroll">
                                    <div class="tab-content m-t-10" id="pills-tabContent">

                                        <div class="tab-pane fade active show" id="qualification"
                                            role="tabpanel" aria-labelledby="qualification_term">
                                            <div class="scroll-spy" data-spy="scroll"
                                                data-target="#navbar-example2" data-offset="0">
                                                <div
                                                    class="card-body border-top purchase-order px-0 py-2">
                                                    <div class="table-wrapper-scroll"
                                                        style="max-height: 300px;">
                                                        <table
                                                            class="table table-striped custom-table tr th">
                                                            <thead>
                                                                <tr style="background-color: #666666; color: #ffffff;">
                                                                    <th scope="col" style="width:4%;">
                                                                        {{'sr' | translate}}</th>
                                                                    <th scope="col" style="width:15%;">
                                                                        {{'drawingno' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:10%;text-align: right;">
                                                                        {{'stackhtmm' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:10%;">
                                                                        {{'aluwtkg' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:10%;text-align: right;">
                                                                        {{'stackwtkg' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:10%;text-align: right;">
                                                                        {{'endplatewtkg' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:10%;text-align: right;">
                                                                        {{'tooling/cavity' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:10%;text-align: right;">
                                                                        {{'toolingcostrs' | translate}}
                                                                    </th>
                                                                    <th scope="col" style="width:25%;">
                                                                        {{'remarks' | translate}}
                                                                    </th>
                                                                
                                                                    <th scope="col" style="width:6%;text-align: center;">
                                                                        {{'action' | translate}}
                                                                    </th>
                                                                </tr>
                                                            </thead>
                                                            <tbody class="font-sm">
                                                                <tr>
                                                                    <td>
                                                                        <strong></strong>
                                                                    </td>
                                                                
                                                                    <td>
                                                                        <ngx-select class="ngx-custom-select-dropdown"
                                                                        [ngModelOptions]="{standalone: true}" name="costcentreid"
                                                                        [allowClear]="true" [(ngModel)]="newContact.DRAWINGNO"
                                                                        [items]="drawingnoArray" optionValueField="ID"
                                                                        optionTextField="DRAWINGNO" (select)="drgChange(newContact.DRAWINGNO,newContact)"
                                                                        placeholder="{{'pleaseselect' | translate}}">
                                                                    </ngx-select>
                                                                    </td>
                                                                
                                                                    <td>
                                                                        <input name="currentlocation" class="w-100 form-control error-border form-control-sm"
                                                                            [(ngModel)]='newContact.STACKHT' [ngModelOptions]="{standalone: true}"
                                                                            [value]="newContact.STACKHT || ''" maxlength="100"
                                                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                
                                                                    <td>
                                                                        <input name="currentlocation" class="w-100 form-control error-border form-control-sm"
                                                                            [(ngModel)]='newContact.ALUWT' [ngModelOptions]="{standalone: true}"
                                                                            [value]="newContact.ALUWT || ''" maxlength="100"
                                                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                        
                                                                    </td>
                                                                
                                                                    <td>
                                                                        <input name="currentlocation" class="w-100 form-control error-border form-control-sm"
                                                                        [(ngModel)]='newContact.STACKWT' [ngModelOptions]="{standalone: true}"
                                                                        [value]="newContact.STACKWT || ''" maxlength="100"
                                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                    <td>
                                                                        <input name="currentlocation" class="w-100 form-control error-border form-control-sm"
                                                                        [(ngModel)]='newContact.ENDPLATE' [ngModelOptions]="{standalone: true}"
                                                                        [value]="newContact.ENDPLATE || ''" maxlength="100"
                                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                
                                                                    <td>
                                                                        <ngx-select class="ngx-custom-select-dropdown"
                                                                        [ngModelOptions]="{standalone: true}" name="costcentreid"
                                                                        [allowClear]="true" [(ngModel)]="newContact.TOOLING" (select)="toolChange(newContact.TOOLING,newContact)"
                                                                        [items]="cavityArray" optionValueField="ID"
                                                                        optionTextField="NAME"
                                                                        placeholder="{{'pleaseselect' | translate}}">
                                                                    </ngx-select>
                                                                    </td>
                                                                    <td>
                                                                        <input name="currentlocation" class="w-100 form-control error-border form-control-sm"
                                                                        [(ngModel)]='newContact.TOOLINGCOST' [ngModelOptions]="{standalone: true}"
                                                                        [value]="newContact.TOOLINGCOST || ''" maxlength="100"
                                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                    <td>
                                                                        <textarea name="itemid" [(ngModel)]='newContact.REMARKS'
                                                                        [ngModelOptions]="{standalone: true}" style="height: 24px;"
                                                                        autocomplete="off"
                                                                        class="w-100 form-control error-border form-control-sm"
                                                                        maxlength="200">
                                                                </textarea>
                                                                    </td>
                                                                
                                                                    <td style="width:60px;text-align: center;">
                                                                        <i (click)="addContact()" class="fas fa-plus "></i>
                                                                    </td>
                                                                
                                                                </tr>

                                                                <tr *ngFor="let contact of contacts ; let i = index">
                                                                
                                                                    <td *ngIf="contact.ID == editContactID">
                                                                        <input type="text" class="form-control w-100" [readonly]="true" [(ngModel)]='contact.ID'
                                                                            [ngModelOptions]="{standalone: true}">
                                                                    </td>
                                                                    <td *ngIf="contact.ID != editContactID" (dblclick)="editContact(contact.ID)">
                                                                        {{i+1}}</td>
                                                                
                                                                
                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <ngx-select class="ngx-custom-select-dropdown"
                                                                        [ngModelOptions]="{standalone: true}" name="costcentreid"
                                                                        [allowClear]="true" [(ngModel)]="contact.DRAWINGNO" (select)="drgChange(contact.DRAWINGNO,contact)"
                                                                        [items]="drawingnoArray" optionValueField="ID"
                                                                        optionTextField="DRAWINGNO"
                                                                        placeholder="{{'pleaseselect' | translate}}">
                                                                    </ngx-select>
                                                                    </td>
                                                                    <td *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: left;">
                                                                        {{contact.DRAWINGNAME | titlecase}}</td>
                                                                
                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <input type="text" class="form-control w-100" (keyup.enter)="updateContact(contact)"
                                                                            [(ngModel)]='contact.STACKHT' [ngModelOptions]="{standalone: true}" maxlength="100"
                                                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: right;">
                                                                        {{contact.STACKHT }}</td>
                                                                
                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <input type="text" class="form-control w-100" (keyup.enter)="updateContact(contact)"
                                                                        [(ngModel)]='contact.ALUWT' [ngModelOptions]="{standalone: true}" maxlength="100"
                                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: right;">
                                                                        {{contact.ALUWT }}
                                                                    </td>
                                                                
                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <input type="text" class="form-control w-100" (keyup.enter)="updateContact(contact)"
                                                                        [(ngModel)]='contact.STACKWT' [ngModelOptions]="{standalone: true}" maxlength="100"
                                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>
                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: right;">
                                                                        {{contact.STACKWT }}
                                                                    </td>

                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <input type="text" class="form-control w-100" (keyup.enter)="updateContact(contact)"
                                                                        [(ngModel)]='contact.ENDPLATE' [ngModelOptions]="{standalone: true}" maxlength="100"
                                                                        oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>

                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: right;">
                                                                        {{contact.ENDPLATE }}
                                                                    </td>
                                                                
                                                                    <td *ngIf="contact.ID === editContactID">
                                                                        <ngx-select class="ngx-custom-select-dropdown"
                                                                        [ngModelOptions]="{standalone: true}" name="costcentreid"
                                                                        [allowClear]="true" [(ngModel)]="contact.TOOLING" 
                                                                        [items]="cavityArray" optionValueField="ID" (select)="toolChange(contact.TOOLING,contact)"
                                                                        optionTextField="NAME"
                                                                        placeholder="{{'pleaseselect' | translate}}">
                                                                    </ngx-select>
                                                                    </td>
                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: left;">
                                                                        {{contact.TOOLINGNAME }}
                                                                    </td>

                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <input type="text" class="form-control w-100" (keyup.enter)="updateContact(contact)"
                                                                            [(ngModel)]='contact.TOOLINGCOST' [ngModelOptions]="{standalone: true}" maxlength="100"
                                                                            oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');">
                                                                    </td>

                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: right;">
                                                                        {{contact.TOOLINGCOST | number }}
                                                                    </td>


                                                                    <td  *ngIf="contact.ID === editContactID">
                                                                        <textarea name="itemid" [(ngModel)]='contact.REMARKS'
                                                                        [ngModelOptions]="{standalone: true}" style="height: 24px;"
                                                                        autocomplete="off"
                                                                        class="w-100 form-control error-border form-control-sm"
                                                                        maxlength="200">
                                                                </textarea>
                                                                    </td>

                                                                    <td  *ngIf="contact.ID !== editContactID" (dblclick)="editContact(contact.ID)" style="text-align: left;">
                                                                        {{contact.REMARKS}}
                                                                    </td>
                                                                    <td style="width:60px;text-align: center;">
                                                                        <div>
                                                                            <i *ngIf="contact.ID === editContactID" class="fas fa-check customIcon {{canEditCommonClass}}"
                                                                                (click)="updateContact(contact)"></i>
                                                                            <i *ngIf="contact.ID !== editContactID" class="fas fa-edit customIcon {{canEditCommonClass}}"
                                                                                (click)="editContact(contact.ID)"></i>
                                                                            <i style="margin-left: 5px;" class="far fa-trash-alt customIcon {{canDeleteCommonClass}}"
                                                                                (click)="removeContact(i)"></i>
                                                                        </div>
                                                                    </td>
                                                                
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                      
                     
  
                      <!-- Footer -->
                      <div class="modal-footer">

                        <button class="btn btn-sm btn-secondary rounded bg-danger"
                            [routerLink]="'/technical-assessment-report'">{{'cancel' |
                            translate}} </button>
                        &nbsp;
                        <button *ngIf="action == 'new'" [disabled]="isLoadingResults"
                            class="btn btn-sm btn-info rounded"
                            (click)="validateBeforeSave(newData, 'Insert')">{{'save' | translate}}</button>
                        <button *ngIf="action == 'edit'" [disabled]="isLoadingResults"
                            class="btn btn-sm btn-info rounded"
                            (click)="validateBeforeSave(newData, 'Update')">{{'update' |
                            translate}}</button>

                    </div>
                  </div>
              </div>
          </div>
        </form>
  
        <!-- <div *ngIf="userRightCheck.canview == 'False'" class="row">
          <div class="col-md-12">
              <div class="card">
                  <div class="card-body">
                      {{'youhavenotpermission' | translate}}
                  </div>
              </div>
          </div>
        </div> -->
        <app-footer></app-footer>
    </div>
  </div>
  </div>