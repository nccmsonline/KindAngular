<div class="preloader" style="display: none;">
    <div class="lds-ripple">
      <div class="lds-pos"></div>
      <div class="lds-pos"></div>
    </div>
  </div>
  <div id="main-wrapper" data-theme="light" data-layout="vertical" data-navbarbg="skin6" data-sidebartype="full"
    data-sidebar-position="fixed" data-header-position="fixed" data-boxed-layout="full">
    <app-header></app-header>
    <app-sidebar></app-sidebar>
  
    <div class="page-wrapper">
      <div class="example-loading-shade" *ngIf="isLoadingResults ">
        <mat-spinner [diameter]="40" *ngIf="isLoadingResults"></mat-spinner>
      </div>
      <div class="container-fluid" style="background:#dcdcdc;">
        <div class="row ">
          <div class="col-md-12">
            <div class="card" style="border-top: 2px solid #0e43af;box-shadow:0 1px 3px rgba(0,0,0,.3);">
              <div class="card-body py-2 mb-2">
                <div class="d-md-flex align-items-center">
                  <div class="form-row mx-0 d-flex bd-highlight w-100">
                    <h4 class="card-title m-0">{{'drawingmaster' | translate}}</h4>
                    <div class="form-group mx-4 mb-2">
                      <button type="submit"
                        class="btn btn-sm rounded btn-info waves-effect waves-light {{canCreateCommonClass}}"
                        [routerLink]="['/add-drawing-master/0/new']"><i
                          class="ti-plus"></i>&nbsp;{{'addnew' | translate }}</button>
                    </div>
                    <!-- <div style="margin-left: 550px;">
                                    <button type="button" class="btn btn-sm rounded btn-info waves-effect waves-light customButton {{canExportCommonClass}}" style="text-align: right;"
                                    (click)="exportToExcel()"><i class="fa fa-file-excel"></i>&nbsp;{{'export'| translate}}</button>
                                  </div> -->
                    <!-- <div > -->
                    <!-- <span class="d-flex">
                                                <input type="text" class="form-control form-control-sm search-box"  [(ngModel)]="name"
                                                [ngModelOptions]="{standalone: true}"   placeholder="{{'search'|translate}}" (keyup.enter)= "applyFilter(name)">
                                                <button class="close-icon" (click)="reset(name)"></button>
                                                <button type="submit" class="btn btn-sm rounded btn-info waves-effect waves-light ml-1" style="overflow: visible;" (click)="applyFilter(name)">{{'search'|translate}}</button></span>
                                            </div> -->
  
                    <div class="col-md-6 d-flex mb-2">
                      <input type="text" class="form-control form-control-sl w-100 col-md-8 " [(ngModel)]='newData.name'
                        (keyup.enter)="typeDDChange()" [ngModelOptions]="{standalone: true}"
                        placeholder="{{'drawingno'|translate}}">
                      <button type="button" class="close-icon" (click)="reset(newData.name)"></button>
                      <button type="button" tabindex="0"
                        class="btn btn-sm rounded btn-info waves-effect waves-light col-md-2"
                        (click)="typeDDChange()">{{'search' | translate}}</button>
                    </div>
                    <div class="col-md-6 d-flex ">
                      <label class="text-right col-md-3">{{'department' | translate}}</label>
                      <ngx-select
                        class="col-md-4 ngx-custom-select-dropdown ngx-custom-select-dropdown-text-wrap new-class-ngxx"
                        [allowClear]="true" [(ngModel)]="newData.searchtype" [ngModelOptions]="{standalone: true}"
                        (remove)="removeDeptChange()" [items]="deptArray" optionValueField="DEPTID"
                        optionTextField="DEPTNAME" (select)="typeDDChange()">
                      </ngx-select>
  
                      <label class="text-right col-md-3">{{'category' | translate}}</label>
                      <ngx-select
                        class="col-md-4 ngx-custom-select-dropdown ngx-custom-select-dropdown-text-wrap new-class-ngxx"
                        [allowClear]="true" [(ngModel)]="newData.filtertype" [ngModelOptions]="{standalone: true}"
                        (remove)="removeCatgChange()" [items]="CatgArray" optionValueField="ID"
                        optionTextField="NAME" (select)="typeDDChange()">
                      </ngx-select>
  
                    </div>
  
                  </div>
                </div>
              </div>
            </div>
  
  
          </div>
          <div class="col-md-12">
            <div class="d-flex justify-content-between align-items-stretch w-100 boxed-layout">
              <div class="w-100">
              
  
                <div class="card example-container " style="box-shadow:0 1px 3px rgba(0,0,0,.3);">
                  <!-- <kendo-pdf-export #pdf paperSize="A4" [scale]="0.5" [margin]="{top: 20, bottom: 50, right: 10, left: 20}"
                  [repeatHeaders]="repeatHeaders"> -->
                  <table id="ExampleMaterialTable" mat-table [dataSource]="drawingmasterArray" matSort
                    [matSortDisableClear]="true" class="table table-sm table-striped w-100 mb-0 mat-table" #table>
  
                    <ng-container matColumnDef="DrawingNo">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="py-1 font-weight-bold text-dark sticky-cell" style="width:15%"><a
                          style="color: #0e43af !important ">{{'drawingno'|translate}} </a></th>
                      <td mat-cell *matCellDef="let element"> {{element.DRAWINGNO}} </td>
                    </ng-container>
  
                    <ng-container matColumnDef="Department">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="py-1 font-weight-bold text-dark sticky-cell" style="width:8%"> <a
                          style="color: #0e43af !important ">{{'department'|translate}} </a></th>
                      <td mat-cell *matCellDef="let element"> {{element.DEPTNAME}} </td>
                    </ng-container>
  
                    <ng-container matColumnDef="Category">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="py-1 font-weight-bold text-dark sticky-cell" style="width:15%"> <a
                          style="color: #0e43af !important">{{'category'|translate}} </a></th>
                      <td mat-cell *matCellDef="let element"> {{element.MCCATGNAME}} </td>
                    </ng-container>
  
                    <ng-container matColumnDef="Createdon">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="py-1 font-weight-bold text-dark sticky-cell" style="width:12%"> <a
                          style="color: #0e43af !important;">{{'createdon'|translate}} </a></th>
                      <td mat-cell *matCellDef="let element"> {{element.DRAWDOB | date : "dd-MM-yyyy"}} </td>
                    </ng-container>
  
                    <ng-container matColumnDef="Revno">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header
                        class="py-1 font-weight-bold text-dark sticky-cell" style="width:15%"> <a
                          style="color: #0e43af !important ">{{'revno'|translate}} </a></th>
                      <td mat-cell *matCellDef="let element"> {{element.REVNO}}</td>
                    </ng-container>
  
                    <!-- <ng-container matColumnDef="action">
                          <th mat-header-cell *matHeaderCellDef class="py-1 font-weight-bold text-dark sticky-cell" style="width:5%">
                            <a style="color: #0e43af !important">{{'action' | translate}}</a></th>
                          <td mat-cell *matCellDef="let element">
                            <button type="button"  class="btn btn-sm btn-info rounded" (click)="openPopup(element)">{{'more' | translate}}</button> </td>
                        </ng-container>
               -->
                    <tr mat-header-row *matHeaderRowDef="displayedColumns ; sticky: true " class="bg-light"
                      style="height:auto;"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;" style="height:auto;"
                      (dblclick)="editmachine(row)"></tr>
                  </table>
                  <!-- </kendo-pdf-export> -->
                  <mat-paginator class="mat-paginator-sticky sticky-cell" 
                    [pageSizeOptions]="[ 20,50,100]" [length]="resultsLength" [pageSize]="20" showFirstLastButtons>
                  </mat-paginator>
                </div>
              </div>
            </div>
          </div>
  
        </div>
  
        <div *ngIf="userRightCheck.canview == 'False'" class="row">
          <div class="col-md-12">
            <div class="card">
              <div class="card-body">
                {{'youhavenotpermission' | translate}}
              </div>
            </div>
          </div>
        </div>
        <app-footer></app-footer>
      </div>
    </div>
  </div>